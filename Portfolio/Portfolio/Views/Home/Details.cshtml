@model Portfolio.Data.Project
<div class="container p-4" style="max-width: 1100px; margin-top: 5rem;">
	<a asp-controller="Home" asp-action="Index" asp-fragment="projects" class="btn btn-outline-success">
		&larr; Back
	</a>
	<div class="text-center mt-2">
		<h1 class="text-success">@Model.Title</h1>
		<div id="mediaCarousel" class="carousel slide" data-bs-ride="false">
			<div class=" carousel-inner">
				@if (!string.IsNullOrEmpty(Model.VideoUrl))
				{
					<div class="carousel-item active">
						<div class="ratio ratio-16x9 border border-2 border-success rounded-5 overflow-hidden" style="margin:auto;">
							<iframe width="1236" height="695"
									src=@Model.VideoUrl
									title=@Model.Title
									frameborder="0"
									allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
									referrerpolicy="strict-origin-when-cross-origin"
									allowfullscreen>
							</iframe>
						</div>
					</div>
				}
				@for (int i = 0; i < Model.Images.Count; i++)
				{
					<div class="carousel-item @(string.IsNullOrEmpty(Model.VideoUrl) && i == 0 ? "active" : (string.IsNullOrEmpty(Model.VideoUrl) && i == 0 ? "" : ""))">
						<div class="ratio ratio-16x9 border border-2 border-success rounded-5 overflow-hidden" style="margin:auto;">
							<img src="@Model.Images[i]" class="d-block w-100 h-100" style="object-fit:contain;" alt="(Missing Image)">
						</div>
					</div>
				}
			</div>
		</div>
		@if (Model.Images.Count() > 1 || (!string.IsNullOrEmpty(Model.VideoUrl) && Model.Images.Count() > 0))
		{
			<div class="d-flex justify-content-between align-items-center mt-3">
				<button class="btn btn-success btn-lg fw-bold" type="button" data-bs-target="#mediaCarousel" data-bs-slide="prev">
					‹ Prev
				</button>
				<button class="btn btn-success btn-lg fw-bold" type="button" data-bs-target="#mediaCarousel" data-bs-slide="next">
					Next ›
				</button>
			</div>
		}
		<div class="mb-3">
			<p class="text-success text-bold m-0">Tech stack:</p>
			@foreach (var tag in Model.Tags)
			{
				<span class="badge project-tag">@tag</span>
			}
		</div>
		<div class="card border-success rounded-5 p-2 mb-3" style="min-height: 10rem;">
			<p class="text-start text-white fs-5">@Model.Description</p>
			<br />
			<p class="text-start text-white fs-5">@Model.MyContribution</p>
		</div>
		@if (!string.IsNullOrEmpty(Model.ExternalLink))
		{
			<a href="@Model.ExternalLink"
			   target="_blank"
			   rel="noopener noreferrer"
			   class="btn btn-lg btn-success">
				Visit project website
			</a>
		}
		@if (Model.Id == 1 || Model.Id == 2)
		{
			<p class="text-danger">(Azure websites can take long to load due to using free/cheap version)</p>
		}
	</div>
</div>

